import { RequestInfo } from "../utils";
<% Object.keys(module.dependencies).forEach(function(dep) { -%>
import { <%= module.dependencies[dep].map(d => d.exportedName).join(', ') %> } from "<%= helpers.fixPath(module.dependencies[dep][0].getRelativePath(".ts")) %>";
<% }) -%>

<% module.members.forEach(function(endpoint) { -%>
<% endpoint.methods.forEach(function(method) { -%>
export function <%= method.type.name %>(<%= method.parameters.map(p => helpers.expandIdentifier(p.name, p.typeInfo, p.required)).join(', ') %>): RequestInfo<<%= helpers.expandTypeInfo(method.responses[0].typeInfo) %>> {
	return {
		uri: <%- helpers.formatUri(endpoint.uri) %>,
		method: "<%= method.methodType %>",
		query: <%- helpers.createParameterHash(method.parameters.filter(p => p.parameterType === "query").map(p => p.name)) %>,
		data: <%- helpers.ifNotNull(method.parameters.find(p => p.parameterType === "body"), t => helpers.escapeDots(t.name)) || "null" %>
	};
}

<%}) -%>
<%}) -%>
